#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <stdbool.h>

typedef enum {

    NORMAL_EXIT = 0,
    LESS_THAN_FOUR_ARGS = 1,
    INVALID_THRESHOLD = 2,
    DECK_READ_ERR = 3,
    NOT_ENOUGH_CARDS = 4,
    PLAYER_ERR = 5,
    UNEXPECTED_EOF = 6,
    INVALID_MSG = 7,
    INVALID_CHOICE = 8,
    RECEIVED_SIGHUP = 9
} Status;

Status show_message(Status s) {
    const char* messages[] = {"",
        "Usage: 2310hub deck threshold player0 {player1}\n",
        "Invalid threshold\n",
        "Deck error\n",
        "Not enough cards\n",
        "Player error\n",
        "Player EOF\n",
        "Invalid message\n",
        "Invalid card choice\n",
        "Ended due to signal\n"};

    fputs(messages[s], stderr);
    return s;
}

//return false if not num
//return true if num
bool check_if_num(char* string) {
    for (int i = 0; i < strlen(string); i++) {
        if (string[i] - '0' < 0 || string[i] - '0' > 9) {
            return false;
        }
    }
    return true;
}

void check_basic_args(int argv, char** argc) {
    if (argv < 5) {
        exit(show_message(LESS_THAN_FOUR_ARGS));
    }
    if (!check_if_num(argc[2]) || atoi(argc[2]) < 2) {
        exit(show_message(INVALID_THRESHOLD));
    }
}


int main(int argv, char** argc) {

    check_basic_args(argv, argc);

    return 0;
}
